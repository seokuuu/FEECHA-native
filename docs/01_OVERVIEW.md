# FEE-CHA 프로젝트 개요

## 📋 프로젝트 소개

**FEE-CHA**(피차)는 커피차 트럭 사장님과 클라이언트(팬)를 이어주는 양방향 매칭 플랫폼입니다.

### 핵심 가치 제안

- **팬(클라이언트)**: 드라마/영화 촬영장에 보낼 커피차를 쉽고 투명하게 예약
- **사장님(업체)**: 새로운 고객을 발굴하고 안정적인 예약 관리
- **플랫폼**: 신뢰할 수 있는 중개 서비스와 효율적인 매칭 시스템

---

## 🎯 타겟 사용자

### 1. 클라이언트 (팬)
- 드라마/영화 팬덤
- 연예인 팬 클럽
- 소속사/제작사 관계자

### 2. 사장님 (커피차 업체)
- 푸드트럭/커피차 운영자
- 케이터링 사업자
- 이벤트 서비스 제공자

### 3. 관리자
- 플랫폼 운영자
- 고객 지원팀
- 정산 담당자

---

## 🏗️ 아키텍처 구조

```
┌─────────────────────────────────────────────────────────┐
│                     클라이언트 계층                        │
├─────────────────────────────────────────────────────────┤
│  Mobile App (React Native)  │  CMS (Next.js)            │
│  - 클라이언트 화면           │  - 관리자 대시보드          │
│  - 사장님 화면               │  - 사용자 관리              │
│  - 실시간 채팅               │  - 정산 관리                │
└─────────────────────────────────────────────────────────┘
                          ↕ REST API / WebSocket
┌─────────────────────────────────────────────────────────┐
│                     백엔드 계층                           │
├─────────────────────────────────────────────────────────┤
│  API Server (NestJS)                                    │
│  - 인증/권한 (JWT)                                       │
│  - 비즈니스 로직                                         │
│  - 실시간 채팅 (Socket.io)                              │
│  - 결제 연동 (포트원)                                    │
│  - 알림 (FCM)                                           │
└─────────────────────────────────────────────────────────┘
                          ↕ ORM (Prisma)
┌─────────────────────────────────────────────────────────┐
│                     데이터 계층                           │
├─────────────────────────────────────────────────────────┤
│  PostgreSQL                                             │
│  - 사용자, 예약, 견적, 채팅 등                           │
└─────────────────────────────────────────────────────────┘

External Services:
- 포트원 (결제)
- AWS S3 / Cloudflare R2 (파일 저장소)
- Firebase (푸시 알림)
- 슬랙 (관리자 알림)
```

---

## 💻 기술 스택

### Mobile App (React Native)

| 카테고리 | 기술 | 버전 | 용도 |
|---------|------|------|------|
| **프레임워크** | React Native (Expo) | SDK 51+ | 크로스 플랫폼 앱 |
| **언어** | TypeScript | 5.3+ | 타입 안정성 |
| **상태 관리** | Zustand | 4.x | 경량 상태 관리 |
| **네비게이션** | React Navigation | v6 | 화면 라우팅 |
| **스타일링** | NativeWind (Tailwind CSS) | 4.x | 유틸리티 CSS |
| **UI 컴포넌트** | react-native-reusables | - | shadcn 스타일 컴포넌트 |
| **폼 관리** | React Hook Form + Zod | - | 폼 검증 |
| **API 클라이언트** | Axios + TanStack Query | v5 | 데이터 페칭 |
| **지도** | react-native-maps | - | 위치 표시 |
| **이미지** | expo-image-picker | - | 사진 업로드 |
| **캘린더** | react-native-calendars | - | 날짜 선택 |
| **결제** | 포트원 SDK | - | 결제 연동 |
| **채팅** | Socket.io-client | - | 실시간 채팅 |
| **푸시 알림** | Expo Notifications + FCM | - | 푸시 알림 |
| **로컬 저장소** | AsyncStorage | - | 캐시 |

### Backend (NestJS)

| 카테고리 | 기술 | 버전 | 용도 |
|---------|------|------|------|
| **프레임워크** | NestJS | 10.x | 백엔드 프레임워크 |
| **언어** | TypeScript | 5.3+ | 타입 안정성 |
| **데이터베이스** | PostgreSQL | 15+ | 관계형 DB |
| **ORM** | Prisma | 5.x | 타입 안전 ORM |
| **캐시** | Redis | 7.x | 세션/캐시 |
| **파일 저장소** | AWS S3 / Cloudflare R2 | - | 이미지 저장 |
| **실시간** | Socket.io | - | 채팅 |
| **인증** | JWT + Refresh Token | - | 인증/권한 |
| **결제** | 포트원 Server SDK | - | 결제 처리 |
| **알림** | Firebase Admin SDK | - | 푸시 알림 |
| **모니터링** | Sentry | - | 에러 추적 |
| **로깅** | Winston | - | 로그 관리 |

### CMS (Next.js)

| 카테고리 | 기술 | 버전 | 용도 |
|---------|------|------|------|
| **프레임워크** | Next.js | 15.x | 웹 프레임워크 |
| **언어** | TypeScript | 5.3+ | 타입 안정성 |
| **스타일링** | Tailwind CSS | 3.x | 유틸리티 CSS |
| **UI 라이브러리** | shadcn/ui | - | UI 컴포넌트 |
| **상태 관리** | Zustand | 4.x | 상태 관리 |
| **데이터 페칭** | TanStack Query | v5 | 서버 상태 |
| **차트** | Recharts | - | 통계 시각화 |
| **폼 관리** | React Hook Form + Zod | - | 폼 검증 |
| **인증** | JWT (API 공유) | - | 관리자 인증 |

### Shared Packages

| 패키지 | 용도 |
|--------|------|
| **@fee-cha/shared-types** | 공통 TypeScript 타입 정의 |
| **@fee-cha/shared-utils** | 공통 유틸리티 함수 (날짜, 통화, 검증 등) |
| **@fee-cha/ui-config** | 공통 Tailwind 설정, 색상 토큰, 테마 (Mobile ↔ CMS 통일) |

### DevOps & Tools

| 카테고리 | 기술 | 용도 |
|---------|------|------|
| **모노레포** | Turborepo | 빌드 최적화 |
| **패키지 관리** | npm workspaces | 의존성 관리 |
| **코드 품질** | ESLint + Prettier | 코드 포맷팅 |
| **Git Hooks** | Husky | 커밋 전 검증 |
| **CI/CD** | GitHub Actions | 자동화 배포 |
| **호스팅 (Mobile)** | Expo EAS | 앱 빌드/배포 |
| **호스팅 (API)** | AWS EC2 / Railway | 백엔드 서버 |
| **호스팅 (CMS)** | Vercel | CMS 배포 |

---

## 🔐 보안 고려사항

### 인증/권한
- JWT 기반 인증 (Access Token + Refresh Token)
- Role-based Access Control (Client, Vendor, Admin)
- 소셜 로그인 (카카오, 구글, 애플)

### 데이터 보호
- HTTPS 통신
- 비밀번호 해싱 (bcrypt)
- 민감한 데이터 암호화
- 파일 업로드 검증 (파일 타입, 크기 제한)

### 결제 보안
- PCI-DSS 준수 (포트원을 통한 간접 결제)
- 결제 정보 비저장
- 거래 로그 저장

---

## 📊 주요 메트릭

### 비즈니스 메트릭
- 총 거래액 (GMV)
- 거래 건수
- 신규 가입자 수
- 활성 사장님 수
- 평균 거래 금액
- 예약 전환율

### 기술 메트릭
- API 응답 시간
- 에러율
- 앱 충돌률
- 푸시 알림 전달률

---

## 🚀 개발 우선순위

### Phase 1: MVP (3개월)
1. 사용자 인증/가입
2. 사장님 프로필 게시판
3. 클라이언트 의뢰 게시판
4. 기본 채팅
5. 예약금 결제
6. CMS 기본 기능

### Phase 2: 핵심 기능 (2개월)
1. 견적 비교 시스템
2. 고급 채팅 (파일 공유)
3. 캘린더 통합
4. 리뷰 시스템
5. 정산 자동화

### Phase 3: 고도화 (지속적)
1. 추천 알고리즘
2. 데이터 분석
3. 멤버십 도입
4. 마케팅 기능
5. 파트너사 연동

---

## 📞 관련 문서

- [기능 명세서](./02_FEATURES.md)
- [백엔드 요구사항](./03_BACKEND_REQUIREMENTS.md)
- [API 명세서](./04_API_SPECS.md)
- [데이터베이스 스키마](./05_DB_SCHEMA.md)
- [CMS 요구사항](./06_CMS_REQUIREMENTS.md)
- [배포 가이드](./07_DEPLOYMENT.md)
- [개발 로드맵](./08_ROADMAP.md)
